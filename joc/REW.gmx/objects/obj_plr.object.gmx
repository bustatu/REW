<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_arrow</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Create

///Axe si deadzone
axe_sd=0;
axe_sj=0;
deadzone=0;

///Harta
map=false;

///Centreaza view-ul
view_xview[0]=x-view_wview[0]/2;
view_yview[0]=y-view_hview[0]/2;

///Viteza de miscare
move_speed=2.5;

///Presetate
if(room_get_name(room)=="room_endless"){
 viata=3;
 gloante=15;
 grenade=1;
 ghiulele=1;
}

///Tipuri de gloante
ammo_type=1;

///Imaginea default
image_speed=0;
image_index=0;

///God
god=false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Alarm[0]
god=false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Step

///Ia axele si deadzone-ul
axe_sd=obj_controlmanager.axe_sd;
axe_sj=obj_controlmanager.axe_sj;
deadzone=obj_controlmanager.deadzone;

///Centreaza view-ul
view_xview[0]=x-view_wview[0]/2;
view_yview[0]=y-view_hview[0]/2;

///Misca-l si roteste-l dupa input + coliziuni
if(axe_sd&gt;deadzone||axe_sd&lt;-deadzone
 &amp;&amp;!place_meeting(x+axe_sd*move_speed,y,obj_coll)){x+=axe_sd*move_speed;}
if(axe_sj&gt;deadzone||axe_sj&lt;-deadzone
 &amp;&amp;!place_meeting(x,y+axe_sj*move_speed,obj_coll)){y+=axe_sj*move_speed;}

if((axe_sd&gt;deadzone||axe_sd&lt;-deadzone)||(axe_sj&gt;deadzone||axe_sj&lt;-deadzone)){
 image_angle=point_direction(x,y,x+move_speed*axe_sd,y+move_speed*axe_sj);
 direction=image_angle;
}

///Du-te la meniu
if(obj_controlmanager.button_10){room_goto(menu);}

///Trage
if(obj_controlmanager.button_3&amp;&amp;!obj_controlmanager.delay1){
 var inst=0;
 ///Dupa tip
 switch(ammo_type){
  ///Gloante
  case 1:{
   if(gloante){gloante--;inst=instance_create(x,y,obj_pbullet);}
   break;
  }
  ///Grenade
  case 2:{
   if(grenade){grenade--;inst=instance_create(x,y,obj_pgrenade);}
   break;
  }  
  ///Ghuilele
  case 3:{
   if(ghiulele){ghiulele--;inst=instance_create(x,y,obj_pcannonball);}
   break;
  }
 }
 ///Trimite glontul
 with(inst){
  motion_set(other.image_angle,2);
  image_angle=other.image_angle;
 }
}

///Ia tipul de glont
if(obj_controlmanager.button_6==1&amp;&amp;!obj_controlmanager.delay&amp;&amp;ammo_type&gt;1){ammo_type--;}///Anterior
if(obj_controlmanager.button_7==1&amp;&amp;!obj_controlmanager.delay&amp;&amp;ammo_type&lt;2){ammo_type++;}///Urmator

///Harta
if(obj_controlmanager.button_4&amp;&amp;!obj_controlmanager.delay){map=!map;}
view_visible[1]=map;
view_xview[1]=x-view_wview[1]/2;
view_yview[1]=y-view_hview[1]/2;

///Mort
if(viata&lt;=0){room_goto(room_loss);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_adrop">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Colliziune

with(other){instance_destroy();}
gloante+=5;
audio_play_sound(ammodrop_sound,1,false);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_hdrop">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Collect

with(other){instance_destroy();}
viata++;
audio_play_sound(lifedrop_sound,1,false);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_box">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Collision
if(!other.destroyed){
 if(!place_meeting(other.x+8*axe_sd+move_speed*axe_sd,other.y,obj_coll)
 &amp;&amp;!place_meeting(other.x+8*axe_sd+move_speed*axe_sd,other.y,obj_enemy)){other.x+=move_speed*axe_sd;}
 else{x-=move_speed*axe_sd;}
 if(!place_meeting(other.x,other.y+8*axe_sj+move_speed*axe_sj,obj_coll)
 &amp;&amp;!place_meeting(other.x,other.y+8*axe_sj+move_speed*axe_sj,obj_enemy)){other.y+=move_speed*axe_sj;}
 else {y-=move_speed*axe_sj;}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Interfata

///Display fix
display_set_gui_size(view_wport[0],view_hport[0]);
draw_set_color(c_white);

///Pentru toate GUI-urile
draw_set_font(ps2p);

///Scrie vietile
draw_sprite_ext(spr_heart,0,32,416,1,1,0,c_red,1);
draw_text_transformed(64,416,"x"+string(viata),2,2,0);

///In functie de munitie
switch(ammo_type){
 ///Gloante
 case 1:{
  draw_sprite_ext(spr_bullets,0,32,368,1,1,0,make_color_rgb(255,255,0),1);
  draw_text_transformed(64,368,"x"+string(gloante),2,2,0);
  break;
 }
 ///Grenade
 case 2:{
  draw_sprite_ext(spr_grenade,0,44,380,1,1,0,make_color_rgb(0,255,0),1);
  draw_text_transformed(64,368,"x"+string(grenade),2,2,0);
  break;
 }
 ///Ghiulele
 case 3:{
  draw_sprite_ext(spr_ebullet,0,44,380,2,2,0,make_color_rgb(255,255,255),1);
  draw_text_transformed(64,368,"x"+string(ghiulele),2,2,0);
  break;
 }
}

///Marginea hartii
if(map){
 draw_set_color(make_color_rgb(255,0,0));
 draw_line_width(2,2,198,2,3);
 draw_line_width(2,2,2,198,3);
 draw_line_width(198,198,2,198,3);
 draw_line_width(198,198,198,2,3);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw

///Daca are invincibilitate
if(god==true){
 randomize();
 image_blend=make_color_rgb(floor(random(255)),floor(random(255)),floor(random(255)));
 ///Deseneaza imaginea
 draw_self();
 move_speed=4;
}
else {
 image_blend=make_color_rgb(255,255,255);
 move_speed=2.5;
 ///Deseneaza imaginea
 draw_self();
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>21,10</point>
    <point>21,21</point>
  </PhysicsShapePoints>
</object>
