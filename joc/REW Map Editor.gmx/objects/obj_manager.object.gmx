<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Create

///Daca a fost incarcata
loaded=0;

///Fix
draw_texture_flush();

///Viteza de miscare a camerei
move_speed=4;

///Variablila globala ce tine id-ul instantei apasate
global.instance=0;

///Tipul de obiect selectat
selectedobject=0;

///Cauta hartile
files[0]=0;
files[1]=file_find_first("Levels/*.lvl",0);
for(var i=1;files[i]!="";i++){
 files[i+1]=file_find_next();files[0]++;
}
///Care este selectata
selected=1;

///Ia numele nivelelelor
names[0]=files[0];
for(var i=1;i&lt;=names[0];i++){
 file=file_text_open_read("Levels/"+files[i]);
 names[i]=file_text_read_string(file);
 file_text_close(file);
}

///Coordonatele camerei
view_x=-320;
view_y=-240;

///Detaliile despre nivel
llevel=0;
name="";
viata=1;
gloante=1;
grenade=1;
ghiulele=1;

///Marimea grid-ului
grid_size=1;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Step
///Selectarea optiunii
if(!loaded){
 if(keyboard_check_pressed(ord('S'))){
  if(selected!=files[0]+1){selected++;}
 }
 else if(keyboard_check_pressed(ord('W'))){
  if(selected!=1){selected--;}
 }
}
else {
 ///Miscarea camerei daca nu e apasat shift/ctrl
 if(!keyboard_check(vk_shift)&amp;&amp;!keyboard_check(vk_control)){
  if(keyboard_check(ord('D'))){view_x+=move_speed;}
  if(keyboard_check(ord('A'))){view_x-=move_speed;}
  if(keyboard_check(ord('W'))){view_y-=move_speed;}
  if(keyboard_check(ord('S'))){view_y+=move_speed;} 
 }
 
 ///Salvez nivelul daca e cazul
 if(keyboard_check_pressed(vk_f3)){save_level();}
 
 ///Crearea unui obiect daca e cazul
 if(mouse_check_button_pressed(mb_right)){
  ///Daca nu se suprapune cu altceva
  var ok=1;
  for(var i=-16;i&lt;=16;i++){
   for(var j=-16;j&lt;=16;j++){
    if(place_meeting(mouse_x+i,mouse_y+j,obj_object)){ok=0;}
   }
  }
  if(ok){
   ///Creez obiectul cu tipul selectat
   create_object(mouse_y,mouse_x,selectedobject,0,0);
  }
  else {show_debug_message("Intersecting with object.");}
 }
 
 ///Salveaza
 if(keyboard_check_pressed(vk_f3)){save_level();}
 
 ///Schimb obiectele
 if(keyboard_check_pressed(ord('E'))&amp;&amp;selectedobject&lt;sprite_get_number(spr_objects)-1){selectedobject++;}
 if(keyboard_check_pressed(ord('Q'))&amp;&amp;selectedobject&gt;0){selectedobject--;}
 
 ///Dau zoom
 if(mouse_wheel_up()){
  view_wview[0]/=1.1;
  view_hview[0]/=1.1;
 }
 else if(mouse_wheel_down()){
  view_wview[0]*=1.1;
  view_hview[0]*=1.1;
 }
}
///Incarca nivelul selectat daca e apasat pe space
if(keyboard_check_pressed(vk_space)&amp;&amp;!loaded){
 ///Nivel nou
 if(selected==files[0]+1){new_level();}
 ///Incarca nivelul
 else {load_level(selected);}
 loaded=1;
}

///Iese din nivelul incarcat daca e apasat pe esc
if(keyboard_check_pressed(vk_escape)&amp;&amp;loaded){loaded=0;}

///Modifica marimea grid-ului
if(keyboard_check(vk_shift)){
 ///Mareste
 if(keyboard_check_pressed(ord('C'))){grid_size++;}
 ///Scade
 if(keyboard_check_pressed(ord('Z'))&amp;&amp;grid_size&gt;1){grid_size--;}
}

///Numele nivelului
if(loaded&amp;&amp;keyboard_check_pressed(vk_f1)){
 name=get_string("Type level name:",name);
}

///Bug fix
name=string_letters(name);


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reseteaza view-ul
view_wview[0]=640;
view_hview[0]=480;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Daca sunt in nivel
if(loaded){
 ///Deseneaza fundalul
 draw_set_color(c_gray);
 draw_rectangle(500,0,640,480,false);
 ///Deseneaza obiectul selectat
 draw_set_color(c_red);
 draw_rectangle(500,0,639,479,true);
 draw_sprite(spr_box,0,570,40);
 draw_sprite(spr_objects,selectedobject,570,40);
 ///Scrie marimea gridului
 draw_text_transformed(520,80,"GRID SIZE: "+string(grid_size),0.5,1,0);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw

///Daca sunt inca in meniu
if(!loaded){
 ///Fontul
 draw_set_font(ps2p);
 ///Scrie nivelul si NEW GAME la final
 for(var i=1;i&lt;=files[0]+1;i++){
  if(selected==i){draw_set_color(make_color_rgb(0,255,0));}
  else {draw_set_color(c_white);}
  ///Scriu numele nivelului sau optiunea de nivel nou
  if(i!=files[0]+1){
   draw_text(50,50+(i-1)*20,string(i)+". "+names[i]);
  }
  else {draw_text(50,50+(files[0]+2)*20,"NEW LEVEL");}
 }
 ///Numele editorului
 draw_set_color(c_white);
 draw_text(400,450,"REW MAP EDITOR");
 ///Seteaza view-ul
 view_xview[0]=0;
 view_yview[0]=0;
}
else {
 ///Deseneaza axele de coordonate
 draw_line_width_color(-1000,0,1000,0,2,c_blue,c_blue);
 draw_line_width_color(0,-1000,0,1000,2,c_blue,c_blue);
 ///Deseneaza grid-urile
 if(obj_manager.grid_size&gt;=5){
  for(var i=-1000;i&lt;=1000/grid_size;i++){
   if(i!=0){draw_line_width_color(-1000,i*grid_size,1000,i*grid_size,2,c_gray,c_gray);}
  }
  for(var i=-1000;i&lt;=1000;i++){
   if(i!=0){draw_line_width_color(i*grid_size,-1000,i*grid_size,1000,2,c_gray,c_gray);}
  }
 }
 ///Seteaza view-ul
 view_xview[0]=view_x;
 view_yview[0]=view_y;
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
